import { Source } from '@storybook/addon-docs';
import dedent from 'ts-dedent';

# uk2FlyoutMenu directive documentation

## Introduction
<p> uk2FlyoutMenuDirective is a directive that will work on any html element and it will display a flyout menu when user call method open() or toggle() via template variable or view child.</p>

## Prerequisites

<p> Import Uk2FlyoutMenuModule in your module file. </p>

<Source
  dark
  language="ts"
  code={dedent`
    import { Uk2FlyoutMenuModule } from '@axos/uikit-v2-lib';
    \r
    @NgModule({
      ...
      imports: [Uk2FlyoutMenuModule],
      ...
    })
    export class ExampleModule { }
  `}
/>

## Inputs
<ul>
  <li> [uk2FlyoutTemplate] <u>TemplateRef</u> <i>(required)</i>Template for the content displayed on the flyout.</li>
  <li> [uk2OriginXPosition] <u>Uk2FlyoutXPosition</u> <i>(optional)</i> Horizontal display position relative to the origin of the flyout (<strong>Default:</strong>  Uk2FlyoutXPosition.end)</li>
  <li> [uk2OverlayXPosition] <u>Uk2FlyoutXPosition</u> <i>(optional)</i> Horizontal display position of the flyout (<strong>Default:</strong> Uk2FlyoutXPosition.end)</li>
  <li> [uk2OriginYPosition] <u>Uk2FlyoutYPosition</u> <i>(optional)</i> Vertical display position relative to the origin of the flyout (<strong>Default:</strong> Uk2FlyoutYPosition.bottom)</li>
  <li> [uk2OverlayYPosition] <u>Uk2FlyoutYPosition</u> <i>(optional)</i> Vertical display position of the flyout (<strong>Default:</strong> Uk2FlyoutYPosition.top)</li>
  <li> [flyoutOverlayYOffset] <u>Number</u> <i>(optional)</i> Vertical distance in pixels between the flyout and it's origin (<strong>Default:</strong> 4)</li>
  <li> [uk2OverlayHasBackdrop] <u>Boolean</u> <i>(optional)</i> Adds a backdrop element to prevent clicking on other elements while the flyout is open (<strong>Default:</strong> true)</li>
  <li> [uk2CloseOnClickOutside] <u>Boolean</u> <i>(optional)</i> Close flyout if user clicks on backdrop element (<strong>Default:</strong> true)</li>
  <li> [uk2OverlayBackdropClass] <u>String</u> <i>(optional)</i> CSS class added to backdrop element to add custom styles (<strong>Default:</strong> '')</li>
</ul>

## Outputs

<ul>
  <li> (flyoutOpened) <u>EventEmitter</u> Event emitted when flyout is opened.</li>
  <li> (flyoutClosed) <u>EventEmitter</u> Event emitted when flyout is closed.</li>
</ul>

## Enums

<Source
  dark
  language="ts"
  code={dedent`
    import { Uk2FlyoutXPosition, Uk2FlyoutYPosition } from '@axos/uikit-v2-lib';
    \r
    export enum Uk2FlyoutXPosition {
      start = 'start',
      center = 'center',
      end = 'end',
    }
    \r
    export enum Uk2FlyoutYPosition {
      top = 'top',
      center = 'center',
      bottom = 'bottom',
    }
  `}
/>

## Directive

<p> Accessing <b>Uk2FlyoutMenuDirective</b> via template variable or view child methods </p>

### Accessing using template variable

<Source
  dark
  language="html"
  code={dedent`
    <!-- To access template variable Uk2FlyoutMenuDirective directive is exported as uk2FlyoutMenu -->
    <div
      uk2FlyoutMenu
      #flyoutMenu="uk2FlyoutMenu"
      (click)="flyoutMenu.open()"
    >
      ...
    </div>
  `}
/>

### Accessing using view child

<Source
  dark
  language="ts"
  code={dedent`
    import { Uk2FlyoutMenuDirective } from '@axos/uikit-v2-lib';
    \r
    @Component({
      ...
    })
    export class ExampleComponent {
      @ViewChild(Uk2FlyoutMenuDirective) flyoutMenu!: Uk2FlyoutMenuDirective;
      \r
      constructor() { }
    }
  `}
/>

### List of public methods

<ul>
  <li><b>open()</b> open flyout.</li>
  <li><b>close()</b> close flyout.</li>
  <li><b>toggle()</b> toggle between open and close.</li>
  <li><b>isFlyoutOpen()</b> return true if flyout is open and false if is closed.</li>
</ul>



## Sample Code

### .component.ts

<Source
  dark
  language="ts"
  code={dedent`
    @Component({
      ...
    })
    export class ExampleComponent {
      @ViewChild(Uk2FlyoutMenuDirective) flyoutMenu!: Uk2FlyoutMenuDirective;
      flyoutOriginXPosition: Uk2FlyoutXPosition = Uk2FlyoutXPosition.end;
      flyoutOverlayXPosition: Uk2FlyoutXPosition = Uk2FlyoutXPosition.end;
      flyoutOverlayBackdropClass = 'custom-css-class';
      flyoutOverlayHasBackdrop = false;
      closeOnClickOutside = false;
      \r
      constructor() { }
      \r
      closeFlyout() {
        this.flyoutMenu.close();
      }
    }
  `}
/>

### .component.html

<Source
  dark
  language="html"
  code={dedent`
    <button
      mat-button
      uk2TextIconButton
      disableRipple
      uk2FlyoutMenu
      [uk2FlyoutTemplate]="flyoutOverlay"
      [uk2OriginXPosition]="flyoutOriginXPosition"
      [uk2OverlayXPosition]="flyoutOverlayXPosition"
      [uk2OverlayHasBackdrop]="flyoutOverlayHasBackdrop"
      [uk2OverlayBackdropClass]="flyoutOverlayBackdropClass"
      [uk2CloseOnClickOutside]="closeOnClickOutside"
      #flyoutMenu="uk2FlyoutMenu"
      (click)="flyoutMenu.toggle()"
    >
      <mat-icon svgIcon="uk2-ellipses-vertical"></mat-icon>
    </button>
    \r
    <ng-template #flyoutOverlay>
      <div class="flyout-container">
        <uk2-list-item [uk2ListItem]="firstItem" [uk2ShowDividerLine]="true" (click)="closeFlyout()"></uk2-list-item>
        <uk2-list-item [uk2ListItem]="secondItem" [uk2ShowDividerLine]="true" (click)="closeFlyout()"></uk2-list-item>
        <uk2-list-item [uk2ListItem]="thirdItem" [uk2ShowDividerLine]="false" (click)="closeFlyout()"></uk2-list-item>
      </div>
    </ng-template>
  `}
/>
